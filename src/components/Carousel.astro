---
// Carousel component para mostrar imágenes de la escuela
---

<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold font-playfair text-military-blue mb-4">
        Nuestras Instalaciones
      </h2>
      <div class="w-24 h-1 bg-yellow-500 mx-auto mb-6"></div>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Conoce nuestras modernas instalaciones diseñadas para la formación integral de nuestros cadetes
      </p>
    </div>

    <!-- Carrusel principal -->
    <div class="relative max-w-6xl mx-auto">
      <div class="carousel-container overflow-hidden rounded-2xl shadow-2xl">
        <div class="carousel-track flex transition-transform duration-500 ease-in-out" id="carousel-track">
          <!-- Slide 1 -->
          <div class="carousel-slide w-full flex-shrink-0 relative">
            <div class="aspect-video bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/30"></div>
              <div class="relative z-10 text-center text-white p-8">
                <h3 class="text-3xl font-bold mb-4">Aulas Especializadas</h3>
                <p class="text-lg">Espacios modernos equipados con tecnología de última generación</p>
              </div>
              <!-- Simulación de imagen -->
              <div class="absolute inset-0 bg-cover bg-center opacity-70" style="background-image: linear-gradient(45deg, #1e40af 25%, #3b82f6 50%, #60a5fa 75%);"></div>
            </div>
            <div class="absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded text-sm">
              Aulas Inteligentes
            </div>
          </div>

          <!-- Slide 2 -->
          <div class="carousel-slide w-full flex-shrink-0 relative">
            <div class="aspect-video bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/30"></div>
              <div class="relative z-10 text-center text-white p-8">
                <h3 class="text-3xl font-bold mb-4">Polideportivo</h3>
                <p class="text-lg">Instalaciones deportivas completas para la formación física</p>
              </div>
              <div class="absolute inset-0 bg-cover bg-center opacity-70" style="background-image: linear-gradient(45deg, #10b981 25%, #34d399 50%, #6ee7b7 75%);"></div>
            </div>
            <div class="absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded text-sm">
              Instalaciones Deportivas
            </div>
          </div>

          <!-- Slide 3 -->
          <div class="carousel-slide w-full flex-shrink-0 relative">
            <div class="aspect-video bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/30"></div>
              <div class="relative z-10 text-center text-white p-8">
                <h3 class="text-3xl font-bold mb-4">Laboratorios</h3>
                <p class="text-lg">Laboratorios de ciencias y computación totalmente equipados</p>
              </div>
              <div class="absolute inset-0 bg-cover bg-center opacity-70" style="background-image: linear-gradient(45deg, #8b5cf6 25%, #a78bfa 50%, #c4b5fd 75%);"></div>
            </div>
            <div class="absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded text-sm">
              Laboratorios Científicos
            </div>
          </div>

          <!-- Slide 4 -->
          <div class="carousel-slide w-full flex-shrink-0 relative">
            <div class="aspect-video bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/30"></div>
              <div class="relative z-10 text-center text-white p-8">
                <h3 class="text-3xl font-bold mb-4">Auditorio</h3>
                <p class="text-lg">Espacio para eventos académicos y culturales</p>
              </div>
              <div class="absolute inset-0 bg-cover bg-center opacity-70" style="background-image: linear-gradient(45deg, #dc2626 25%, #ef4444 50%, #f87171 75%);"></div>
            </div>
            <div class="absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded text-sm">
              Auditorio Principal
            </div>
          </div>

          <!-- Slide 5 -->
          <div class="carousel-slide w-full flex-shrink-0 relative">
            <div class="aspect-video bg-gradient-to-br from-yellow-500 to-orange-600 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/30"></div>
              <div class="relative z-10 text-center text-white p-8">
                <h3 class="text-3xl font-bold mb-4">Biblioteca</h3>
                <p class="text-lg">Centro de recursos académicos y culturales</p>
              </div>
              <div class="absolute inset-0 bg-cover bg-center opacity-70" style="background-image: linear-gradient(45deg, #eab308 25%, #f59e0b 50%, #fb923c 75%);"></div>
            </div>
            <div class="absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded text-sm">
              Biblioteca Central
            </div>
          </div>
        </div>
      </div>

      <!-- Controles del carrusel -->
      <button 
        id="prev-btn"
        class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110"
      >
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
      </button>
      
      <button 
        id="next-btn"
        class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110"
      >
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
        </svg>
      </button>

      <!-- Indicadores -->
      <div class="flex justify-center space-x-2 mt-6">
        <button class="carousel-indicator w-3 h-3 rounded-full bg-military-blue transition-all duration-300" data-slide="0"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="1"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="2"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="3"></button>
        <button class="carousel-indicator w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="4"></button>
      </div>
    </div>

    <!-- Thumbnails -->
    <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mt-8 max-w-4xl mx-auto">
      <button class="thumbnail-btn aspect-video rounded-lg overflow-hidden border-2 border-transparent hover:border-military-blue transition-colors" data-slide="0">
        <div class="w-full h-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center">
          <span class="text-white text-sm font-medium">Aulas</span>
        </div>
      </button>
      <button class="thumbnail-btn aspect-video rounded-lg overflow-hidden border-2 border-transparent hover:border-military-blue transition-colors" data-slide="1">
        <div class="w-full h-full bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center">
          <span class="text-white text-sm font-medium">Deportes</span>
        </div>
      </button>
      <button class="thumbnail-btn aspect-video rounded-lg overflow-hidden border-2 border-transparent hover:border-military-blue transition-colors" data-slide="2">
        <div class="w-full h-full bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center">
          <span class="text-white text-sm font-medium">Laboratorios</span>
        </div>
      </button>
      <button class="thumbnail-btn aspect-video rounded-lg overflow-hidden border-2 border-transparent hover:border-military-blue transition-colors" data-slide="3">
        <div class="w-full h-full bg-gradient-to-br from-red-500 to-red-700 flex items-center justify-center">
          <span class="text-white text-sm font-medium">Auditorio</span>
        </div>
      </button>
      <button class="thumbnail-btn aspect-video rounded-lg overflow-hidden border-2 border-transparent hover:border-military-blue transition-colors" data-slide="4">
        <div class="w-full h-full bg-gradient-to-br from-yellow-500 to-orange-600 flex items-center justify-center">
          <span class="text-white text-sm font-medium">Biblioteca</span>
        </div>
      </button>
    </div>
  </div>
</section>

<script>
  let currentSlide = 0;
  const totalSlides = 5;
  const track = document.getElementById('carousel-track');
  const indicators = document.querySelectorAll('.carousel-indicator');
  const thumbnails = document.querySelectorAll('.thumbnail-btn');
  
  function updateCarousel() {
    // Mover el track
    track.style.transform = `translateX(-${currentSlide * 100}%)`;
    
    // Actualizar indicadores
    indicators.forEach((indicator, index) => {
      if (index === currentSlide) {
        indicator.classList.remove('bg-gray-300');
        indicator.classList.add('bg-military-blue');
      } else {
        indicator.classList.remove('bg-military-blue');
        indicator.classList.add('bg-gray-300');
      }
    });
    
    // Actualizar thumbnails
    thumbnails.forEach((thumb, index) => {
      if (index === currentSlide) {
        thumb.classList.add('border-military-blue');
        thumb.classList.remove('border-transparent');
      } else {
        thumb.classList.remove('border-military-blue');
        thumb.classList.add('border-transparent');
      }
    });
  }
  
  function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;
    updateCarousel();
  }
  
  function prevSlide() {
    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
    updateCarousel();
  }
  
  function goToSlide(slideIndex) {
    currentSlide = slideIndex;
    updateCarousel();
  }
  
  // Event listeners
  document.getElementById('next-btn').addEventListener('click', nextSlide);
  document.getElementById('prev-btn').addEventListener('click', prevSlide);
  
  // Indicadores
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => goToSlide(index));
  });
  
  // Thumbnails
  thumbnails.forEach((thumb, index) => {
    thumb.addEventListener('click', () => goToSlide(index));
  });
  
  // Auto-play
  let autoPlay = setInterval(nextSlide, 5000);
  
  // Pausar auto-play en hover
  const carouselContainer = document.querySelector('.carousel-container');
  carouselContainer.addEventListener('mouseenter', () => {
    clearInterval(autoPlay);
  });
  
  carouselContainer.addEventListener('mouseleave', () => {
    autoPlay = setInterval(nextSlide, 5000);
  });
  
  // Touch/swipe support para móviles
  let startX = null;
  
  carouselContainer.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
  });
  
  carouselContainer.addEventListener('touchend', (e) => {
    if (!startX) return;
    
    const endX = e.changedTouches[0].clientX;
    const diff = startX - endX;
    
    if (Math.abs(diff) > 50) { // Minimum swipe distance
      if (diff > 0) {
        nextSlide();
      } else {
        prevSlide();
      }
    }
    
    startX = null;
  });
</script>

<style>
  .carousel-container {
    position: relative;
  }
  
  .carousel-track {
    will-change: transform;
  }
  
  @media (max-width: 768px) {
    .absolute.left-4,
    .absolute.right-4 {
      display: none;
    }
  }
</style>
